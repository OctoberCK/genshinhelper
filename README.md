# genshinhelper

## 针对2022年11月7日前后开始的无法获取信息的问题说明
问题的出现是由于米哈游新增了个人信息API的获取验证，此问题随机出现，需要到米游社-我的-我的角色内进行安全验证才可以正常使用脚本，脚本本身是正常可运行的。  
当前问题暂无合理的解决方式，系米哈游收缩权限所致，如果反复出现验证情况，可以停用几天小组件再试，但根据我的测试这个办法用处不大，如果有好的方式欢迎联系我。

## 注意事项
1. 本Javascipt脚本适用于iOS的 `Scriptable` APP，使用前请下载。   
2. 遇到问题发issue前请检查操作的步骤，特别是注意 `uid` 的填写是否正确。
3. 使用前请先在js脚本中添加配置(复制后填写对应的 `uid` 和 `cookie` )，必须加入到脚本标示的位置：  
```
config[0] = "uid"
config[1] = "cn_gf01"
config[2] = "cookie"
```
4. 支持全服务器  
B服： `config[1] = "cn_qd01"`   
亚服： `config[1] = "os_asia"`  
欧服： `config[1] = "os_euro"`  
美服： `config[1] = "os_usa"`  
港澳台服： `config[1] = "os_cht"`  

5. 或者使用iOS快捷指令一键安装对应的配置(需要iOS15.0及以上版本)。  
**请务必检查并开启，否则无法使用**  
**iPhone设置-快捷指令-iCloud同步**  
**iPhone设置-Apple ID-iCloud云盘-快捷指令**  
**iPhone设置-快捷指令-高级-允许运行脚本**  
[整合版本（会附带下载DmYY控件，背景界面可控）](https://www.icloud.com/shortcuts/6e33a145c8c8499eafd851b64b3218ba)  
[精简版本（无须DmYY第三方控件）](https://www.icloud.com/shortcuts/8393584a2c6a4d6bb01e46a1dc3b1d2b)  
[新设计版（当前支持小号与中号小组件，不支持大号）](https://www.icloud.com/shortcuts/1278018a0e674a54b49c92f44a644a13)

6. 小组件预览  
![新设计版预览](https://github.com/OctoberCK/genshinhelper/blob/main/screenshots/B1D63403-A179-432D-A710-59CF52CE1558_1_102_o.jpeg)  
![小组件预览](https://github.com/OctoberCK/genshinhelper/blob/main/screenshots/preview.jpg)  

7. iOS叠放方法（通过stacked第二布局实现更多信息）  
![iOS叠放方法](https://github.com/OctoberCK/genshinhelper/blob/main/screenshots/stacked.jpg)  

8. 如果你觉得用的还不错，可以支持我一杯咖啡钱，我会继续维护和更新更多的内容。  

    <center><img src="https://github.com/OctoberCK/genshinhelper/blob/main/screenshots/alipay.jpg" width="30%"></center>

